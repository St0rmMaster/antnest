# Быстрый старт

## Как начать использовать справочник

### 1. Инвентаризация текущей инфраструктуры

1. Составьте список всех хостов, контейнеров и сервисов
2. Для каждого объекта создайте карточку по соответствующему шаблону
3. Заполните обязательные поля или отметьте их как "N/A"
4. Укажите текущую дату в поле "Обновлено"

### 2. Выбор подходящего шаблона

- **Хост** — физический сервер или гипервизор (Proxmox, VMware, etc.)
- **Контейнер/ВМ** — виртуальная машина или контейнер (LXC, Docker, etc.)
- **Сервис/Бот** — приложение, микросервис, бот, веб-сервис

### 3. Создание первой карточки

1. Скопируйте нужный шаблон из папки `templates/`
2. Или используйте шаблон из раздела "Шаблоны карточек" в README.md
3. Замените все поля в квадратных скобках на актуальные данные
4. Добавьте карточку в соответствующий раздел README.md

### 4. Заполнение runbook (для сервисов)

В разделе "Операции" опишите:
- **Обновление** — как обновить сервис (3-7 шагов)
- **Бэкап/восстановление** — как сделать бэкап и восстановиться (3-7 шагов)
- **Проверка после действий** — что проверить после изменений

### 5. Поддержание актуальности

- При любом изменении → обновите соответствующую карточку
- Обновите поле "Обновлено" с текущей датой
- Добавляйте новые "грабли" по мере их обнаружения

## Примеры использования

### Добавление нового сервиса

1. Создайте карточку по шаблону `templates/service-template.md`
2. Заполните все поля
3. Опишите процедуры в разделе "Операции"
4. Добавьте карточку в раздел "Каталог сервисов/ботов"

### Обновление существующего сервиса

1. Найдите карточку сервиса в справочнике
2. Следуйте инструкциям из раздела "Операции → Обновление"
3. После обновления выполните "Проверку после действий"
4. Если добавились новые шаги — обновите runbook
5. Обновите дату в поле "Обновлено"

### Решение проблемы

1. Найдите карточку проблемного сервиса
2. Проверьте раздел "Известные грабли"
3. Если проблема новая — добавьте её в "Известные грабли"
4. Обновите дату в поле "Обновлено"

## Полезные команды

```bash
# Поиск по справочнику
grep -r "nginx" README.md

# Поиск всех сервисов в определенном контейнере
grep -A 20 "lxc-101" README.md

# Поиск всех карточек, обновленных в определенную дату
grep "Обновлено: 2024-12-19" README.md
```

## Контрольный список для новой карточки

- [ ] Выбран правильный шаблон
- [ ] Все обязательные поля заполнены
- [ ] Секреты не указаны напрямую (только ссылки vault://)
- [ ] Для сервисов описаны операции (3-7 шагов каждая)
- [ ] Указана актуальная дата в поле "Обновлено"
- [ ] Карточка добавлена в правильный раздел README.md
