# Пример карточки контейнера

### lxc-101-webstack

**Роль:** Веб-стек для фронтенд приложений с Nginx, Node.js и статическими файлами

**Расположение:** 
- Хост: Proxmox VE Production
- IP: 192.168.100.101

**Ресурсы:** 
- CPU: 4 ядра
- RAM: 8GB
- Disk: 50GB

**Сеть/Порты:** 
- 80 → 80 (HTTP, автоматическое перенаправление на HTTPS)
- 443 → 443 (HTTPS, основной трафик)
- 3000 → 3000 (Node.js API для разработки)
- 22 → 2201 (SSH для администрирования)

**Данные/тома:** 
- `/var/www/html` — статические файлы сайтов
- `/var/www/apps` — Node.js приложения
- `/etc/nginx` — конфигурация веб-сервера
- `/etc/letsencrypt` — SSL сертификаты
- `/var/log` — логи всех сервисов

**Сервисы внутри:** 
- nginx (веб-сервер и обратный прокси)
- node.js (API backend)
- pm2 (менеджер процессов для Node.js)
- certbot (автообновление SSL сертификатов)

**Бэкап контейнера:** 
- Proxmox vzdump: ежедневно в 03:00 (полный)
- Данные: rsync на backup-сервер каждые 6 часов
- Конфигурация: git-репозиторий с автокоммитами

**Известные грабли:**
- При обновлении Node.js проверить совместимость с pm2 ecosystem
- Nginx требует reload после обновления SSL сертификатов
- PM2 может не подхватить изменения в переменных окружения без restart
- При нехватке места в /var/log ротация логов не всегда срабатывает

**Обновлено:** 2024-12-19

---

*Это пример полностью заполненной карточки контейнера. Обратите внимание на детализацию портов, данных и известных проблем.*
